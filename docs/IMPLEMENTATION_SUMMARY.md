# –°–≤–æ–¥–∫–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–º–ø–æ—Ä—Ç–∞ –æ–±—â–∏—Ö —è—â–∏–∫–æ–≤

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

‚úÖ **–§—É–Ω–∫—Ü–∏—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏ email** (`validate_shared_mailbox_email`)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º–∞—Ç–∞ `alias` –∏–ª–∏ `alias@domain.com`
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã email –∞–¥—Ä–µ—Å–∞

‚úÖ **–§—É–Ω–∫—Ü–∏—è —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞** (`read_shared_mailboxes_file`)
   - –ß—Ç–µ–Ω–∏–µ CSV —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º `;`
   - –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø–æ—Å—Ç—Ä–æ—á–Ω–æ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã email (case-insensitive)
   - –ü—Ä–æ–ø—É—Å–∫ —Å—Ç—Ä–æ–∫-–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ (–Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è —Å `#`)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–∞ (–∑–∞–≥–æ–ª–æ–≤–∫–∏, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–æ–Ω–æ–∫)

‚úÖ **–§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —á–µ—Ä–µ–∑ API** (`create_shared_mailbox_by_api`)
   - Endpoint: `POST /directory/v1/org/{orgId}/mail/shared`
   - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–µ–∂–∏–º–∞ DRY_RUN
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ (–¥–æ 3 —Ä–∞–∑)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞ –¥–ª—è –∞–ª–∏–∞—Å–æ–≤
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ API

‚úÖ **–û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∏–º–ø–æ—Ä—Ç–∞** (`import_shared_mailboxes_from_file`)
   - –î–≤—É—Ö—Ñ–∞–∑–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å: –≤–∞–ª–∏–¥–∞—Ü–∏—è ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ
   - –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ —à–∞–≥–∞
   - –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (—É—Å–ø–µ—à–Ω–æ/–æ—à–∏–±–∫–∏)
   - –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ—à–∏–±–æ–∫ –≤–∞–ª–∏–¥–∞—Ü–∏–∏

‚úÖ **–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è** (`import_shared_mailboxes_prompt`)
   - –°–ø—Ä–∞–≤–∫–∞ –ø–æ —Ñ–æ—Ä–º–∞—Ç—É —Ñ–∞–π–ª–∞
   - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ –∏–º–ø–æ—Ä—Ç–æ–º
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞

### 2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ –ø—Ä–æ–≥—Ä–∞–º–º—É

‚úÖ **–î–æ–±–∞–≤–ª–µ–Ω –ø—É–Ω–∫—Ç –º–µ–Ω—é**
   - –û–ø—Ü–∏—è 7: "–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –æ–±—â–∏–µ —è—â–∏–∫–∏ –∏–∑ —Ñ–∞–π–ª–∞"
   - –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ–¥—Å–∫–∞–∑–∫–∏ (0-7 –≤–º–µ—Å—Ç–æ 0-6)
   - –ü–æ–ª–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –º–µ–Ω—é

### 3. –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

‚úÖ **SHARED_MAILBOXES_README.md**
   - –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
   - –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ shared.csv
   - –ü—Ä–æ—Ü–µ—Å—Å –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   - –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
   - API –º–µ—Ç–æ–¥ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã
   - –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

‚úÖ **SHARED_MAILBOXES_QUICK_START.md**
   - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –≤ 3 —à–∞–≥–∞
   - –ü—Ä–∏–º–µ—Ä—ã —Ñ–æ—Ä–º–∞—Ç–æ–≤ email
   - –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∏–ø–∏—á–Ω—ã—Ö –æ—à–∏–±–æ–∫
   - –¢–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º (DRY_RUN)

‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω README.md**
   - –î–æ–±–∞–≤–ª–µ–Ω —Ä–∞–∑–¥–µ–ª "–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±—â–∏–º–∏ —è—â–∏–∫–∞–º–∏"
   - –û–ø–∏—Å–∞–Ω–∏–µ –æ–ø—Ü–∏–∏ 7 –≤ –º–µ–Ω—é
   - –°—Å—ã–ª–∫–∏ –Ω–∞ –Ω–æ–≤—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

‚úÖ **CHANGELOG_SHARED_MAILBOXES.md**
   - –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –≤—Å–µ—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
   - –°–ø–∏—Å–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π
   - –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

‚úÖ **TEST_SCENARIOS_SHARED_MAILBOXES.md**
   - 18 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
   - –ß–µ–∫–ª–∏—Å—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
   - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É —Ç–µ—Å—Ç–æ–≤

### 4. –ü—Ä–∏–º–µ—Ä—ã –∏ —à–∞–±–ª–æ–Ω—ã

‚úÖ **shared.csv**
   - –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ —Å –¥–∞–Ω–Ω—ã–º–∏
   - –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–∑–Ω—ã—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤ email
   - –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ)

‚úÖ –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞: CSV —Å —Ä–∞–∑–¥–µ–ª–∏—Ç–µ–ª–µ–º `;`
‚úÖ –ö–æ–ª–æ–Ω–∫–∏: `email`, `name`, `description`
‚úÖ –ü—Ä–æ–ø—É—Å–∫ —Å—Ç—Ä–æ–∫ –Ω–∞—á–∏–Ω–∞—é—â–∏—Ö—Å—è —Å `#`
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è email: `alias` –∏–ª–∏ `alias@domain.com`
‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã email
‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤
‚úÖ –í—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ –æ—à–∏–±–æ—á–Ω—ã—Ö —Å—Ç—Ä–æ–∫
‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API –º–µ—Ç–æ–¥–∞ CreateShared

## üéØ –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π –≤ API
- ‚úÖ –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –ø—Ä–∏ –ª—é–±—ã—Ö –æ—à–∏–±–∫–∞—Ö
- ‚úÖ –†–µ–∂–∏–º DRY_RUN –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –ú–∞—Å–∫–∏—Ä–æ–≤–∫–∞ OAuth —Ç–æ–∫–µ–Ω–æ–≤ –≤ –ª–æ–≥–∞—Ö

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö API
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫
- ‚úÖ –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- ‚úÖ –ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ –∫ API

### –£–¥–æ–±—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é —Å –ø–æ–¥—Å–∫–∞–∑–∫–∞–º–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –≤ —Ñ–∞–π–ª–µ
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –¥–æ–º–µ–Ω–∞ –¥–ª—è –∞–ª–∏–∞—Å–æ–≤
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
- ‚úÖ –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
CreateModifyUsers/
‚îú‚îÄ‚îÄ add_users.py                           # ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω (–¥–æ–±–∞–≤–ª–µ–Ω—ã 5 —Ñ—É–Ω–∫—Ü–∏–π)
‚îú‚îÄ‚îÄ shared.csv                             # ‚úÖ –°–æ–∑–¥–∞–Ω (–ø—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞)
‚îú‚îÄ‚îÄ README.md                              # ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω
‚îú‚îÄ‚îÄ SHARED_MAILBOXES_README.md             # ‚úÖ –°–æ–∑–¥–∞–Ω
‚îú‚îÄ‚îÄ SHARED_MAILBOXES_QUICK_START.md        # ‚úÖ –°–æ–∑–¥–∞–Ω
‚îú‚îÄ‚îÄ CHANGELOG_SHARED_MAILBOXES.md          # ‚úÖ –°–æ–∑–¥–∞–Ω
‚îú‚îÄ‚îÄ TEST_SCENARIOS_SHARED_MAILBOXES.md     # ‚úÖ –°–æ–∑–¥–∞–Ω
‚îî‚îÄ‚îÄ IMPLEMENTATION_SUMMARY.md              # ‚úÖ –°–æ–∑–¥–∞–Ω (—ç—Ç–æ—Ç —Ñ–∞–π–ª)
```

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

1. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª shared.csv**:
```csv
email;name;description
support;Support Team;–û–±—â–∏–π —è—â–∏–∫ –ø–æ–¥–¥–µ—Ä–∂–∫–∏
info;Information;–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —è—â–∏–∫
```

2. **–ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø—Ä–æ–≥—Ä–∞–º–º—É**:
```bash
python3 add_users.py
```

3. **–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é 7**

4. **–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ –∏–º–ø–æ—Ä—Ç**

### –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π –≤—ã–∑–æ–≤

```python
from add_users import get_settings, import_shared_mailboxes_from_file

settings = get_settings()
success = import_shared_mailboxes_from_file(settings, "shared.csv")
```

## üìä –§–æ—Ä–º–∞—Ç —Ñ–∞–π–ª–∞ shared.csv

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞
```csv
email;name;description
<alias –∏–ª–∏ email>;<–∏–º—è —è—â–∏–∫–∞>;<–æ–ø–∏—Å–∞–Ω–∏–µ>
```

### –ü—Ä–∞–≤–∏–ª–∞
- **–†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å**: —Ç–æ—á–∫–∞ —Å –∑–∞–ø—è—Ç–æ–π (`;`)
- **–ö–æ–¥–∏—Ä–æ–≤–∫–∞**: UTF-8
- **–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏**: —Å—Ç—Ä–æ–∫–∏ –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å `#` –ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è
- **Email**: –º–æ–∂–µ—Ç –±—ã—Ç—å `alias` –∏–ª–∏ `alias@domain.com`
- **Name**: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ
- **Description**: –Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ

### –ü—Ä–∏–º–µ—Ä—ã

```csv
email;name;description
support;Support Team;–û–±—â–∏–π —è—â–∏–∫ —Å–ª—É–∂–±—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏
info@company.com;Information;–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–π —è—â–∏–∫
sales;Sales Department;–û—Ç–¥–µ–ª –ø—Ä–æ–¥–∞–∂
# hr;HR;–≠—Ç–æ—Ç —è—â–∏–∫ –±—É–¥–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω
```

## üîç –í–∞–ª–∏–¥–∞—Ü–∏—è

### Email –∞–¥—Ä–µ—Å–∞
- ‚úÖ –§–æ—Ä–º–∞—Ç `alias`: a-z, A-Z, 0-9, `.`, `-`, `_`
- ‚úÖ –§–æ—Ä–º–∞—Ç `alias@domain.com`: –ø–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- ‚úÖ –ù–∞—á–∞–ª–æ –∏ –∫–æ–Ω–µ—Ü: —Ç–æ–ª—å–∫–æ –±—É–∫–≤—ã –∏–ª–∏ —Ü–∏—Ñ—Ä—ã
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –¥—É–±–ª–∏–∫–∞—Ç—ã (case-insensitive)

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–∞
- ‚úÖ –ù–∞–ª–∏—á–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤: `email;name;description`
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–ª–æ–Ω–æ–∫: —Ä–æ–≤–Ω–æ 3
- ‚úÖ –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ `name`
- ‚úÖ –ù–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ–µ –ø–æ–ª–µ `description`

### –ü—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –æ—à–∏–±–æ–∫
- ‚ùå –ò–º–ø–æ—Ä—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
- üìã –í—ã–≤–æ–¥–∏—Ç—Å—è —Å–ø–∏—Å–æ–∫ –í–°–ï–• –æ—à–∏–±–æ–∫ —Å –Ω–æ–º–µ—Ä–∞–º–∏ —Å—Ç—Ä–æ–∫
- üí° –ü—Ä–µ–¥–ª–∞–≥–∞–µ—Ç—Å—è –∏—Å–ø—Ä–∞–≤–∏—Ç—å –∏ –ø–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É

## üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏–º–ø–æ—Ä—Ç–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è:
```
----------------------------------------------------------------------------------------------------
–ò–º–ø–æ—Ä—Ç –∑–∞–≤–µ—Ä—à–µ–Ω
----------------------------------------------------------------------------------------------------
–í—Å–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ: 5
–£—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω–æ: 5
–û—à–∏–±–æ–∫: 0
----------------------------------------------------------------------------------------------------
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†–µ–∂–∏–º DRY_RUN

–í —Ñ–∞–π–ª–µ `.env`:
```bash
DRY_RUN=true
```

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ–ª–Ω–æ—Å—Ç—å—é
- ‚úÖ API –∑–∞–ø—Ä–æ—Å—ã –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è
- ‚úÖ –í –ª–æ–≥–∞—Ö –ø–æ–º–µ—á–µ–Ω–æ `[DRY RUN]`
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

–°–æ–∑–¥–∞–Ω–æ 18 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:
- –£—Å–ø–µ—à–Ω—ã–π –∏–º–ø–æ—Ä—Ç
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- API –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ
- –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: [TEST_SCENARIOS_SHARED_MAILBOXES.md](TEST_SCENARIOS_SHARED_MAILBOXES.md)

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–æ–≤

**DEBUG** (—Ñ–∞–π–ª `add_users.log`):
```
2025-10-15 12:00:00.123 DEBUG: POST URL: https://api360.yandex.net/...
2025-10-15 12:00:00.234 DEBUG: POST DATA: {"email": "support@...", ...}
2025-10-15 12:00:00.345 DEBUG: x-request-id: abc123...
```

**INFO** (–∫–æ–Ω—Å–æ–ª—å):
```
2025-10-15 12:00:00.456 INFO: –ò–º–ø–æ—Ä—Ç –æ–±—â–∏—Ö —è—â–∏–∫–æ–≤ –∏–∑ —Ñ–∞–π–ª–∞ shared.csv
2025-10-15 12:00:01.567 INFO: –§–∞–π–ª —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–Ω. –ù–∞–π–¥–µ–Ω–æ 3 –æ–±—â–∏—Ö —è—â–∏–∫–æ–≤.
2025-10-15 12:00:02.678 INFO: –£—Å–ø–µ—Ö - –æ–±—â–∏–π —è—â–∏–∫ 'support@domain.com' —Å–æ–∑–¥–∞–Ω.
```

**ERROR** (–∫–æ–Ω—Å–æ–ª—å –∏ —Ñ–∞–π–ª):
```
2025-10-15 12:00:03.789 ERROR: –°—Ç—Ä–æ–∫–∞ 5: –ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email "test@"
2025-10-15 12:00:03.890 ERROR: –ò–º–ø–æ—Ä—Ç –ø—Ä–µ—Ä–≤–∞–Ω. –ò—Å–ø—Ä–∞–≤—å—Ç–µ –æ—à–∏–±–∫–∏.
```

## üåê API Integration

### Endpoint
```
PUT https://api360.yandex.net/admin/v1/org/{orgId}/mailboxes/shared
```

### Headers
```
Authorization: OAuth {token}
Content-Type: application/json
```

### Request Body
```json
{
  "email": "support@company.com",
  "name": "Support Team",
  "description": "–û–±—â–∏–π —è—â–∏–∫ —Å–ª—É–∂–±—ã –ø–æ–¥–¥–µ—Ä–∂–∫–∏"
}
```

### Response Codes
- `200 OK` / `201 CREATED` - —É—Å–ø–µ—à–Ω–æ
- `400 Bad Request` - –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `401 Unauthorized` - –ø—Ä–æ–±–ª–µ–º—ã —Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π
- `409 Conflict` - —è—â–∏–∫ —É–∂–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å–ø–µ—Ü–∏—Ñ–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫

#### 1. Email –∞–¥—Ä–µ—Å —É–∂–µ –∑–∞–Ω—è—Ç
**–ö–æ–¥**: 6  
**–°–æ–æ–±—â–µ–Ω–∏–µ**: `passport_email_taken`  
**–î–µ–π—Å—Ç–≤–∏–µ**: –ü–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é, –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫

#### 2. –ù–µ–≤–µ—Ä–Ω—ã–π —Ç–æ–∫–µ–Ω
**–°–æ–æ–±—â–µ–Ω–∏–µ**: `Unauthorized`  
**–î–µ–π—Å—Ç–≤–∏–µ**: –°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —Ç–æ–∫–µ–Ω–∞, –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫

#### 3. –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤
**–°–æ–æ–±—â–µ–Ω–∏–µ**: `No required scope`  
**–î–µ–π—Å—Ç–≤–∏–µ**: –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—é –ø—Ä–∞–≤, –±–µ–∑ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫  
**–¢—Ä–µ–±—É–µ–º—ã–µ –ø—Ä–∞–≤–∞**: `ya360_admin:mail_write_shared_mailbox_inventory`

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ (.env)

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ
```bash
OAUTH_TOKEN=your_token_here
ORG_ID=your_org_id_here
```

### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ
```bash
EMAIL_DOMAIN=your-domain.com          # –î–ª—è –∞–ª–∏–∞—Å–æ–≤ –±–µ–∑ –¥–æ–º–µ–Ω–∞
SHARED_MAILBOXES_FILE=shared.csv      # –ò–º—è —Ñ–∞–π–ª–∞ —Å –æ–±—â–∏–º–∏ —è—â–∏–∫–∞–º–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é shared.csv)
DRY_RUN=false                         # true –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
```

## üöÄ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ó–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏**: 0.5 —Å–µ–∫
- **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏**: –¥–æ 3 —Ä–∞–∑
- **–ó–∞–¥–µ—Ä–∂–∫–∞ –ø—Ä–∏ –ø–æ–≤—Ç–æ—Ä–∞—Ö**: —ç–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è (2, 4, 6 —Å–µ–∫)
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–∞–º—è—Ç–∏**: –ø–æ—Å—Ç—Ä–æ—á–Ω–æ–µ —á—Ç–µ–Ω–∏–µ (—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ –¥–ª—è –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤)

## ‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

1. **–ü–æ–ª–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è**: –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –¥–∞–Ω–Ω—ã—Ö –ø–µ—Ä–µ–¥ –æ—Ç–ø—Ä–∞–≤–∫–æ–π
2. **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å**: –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö, DRY_RUN —Ä–µ–∂–∏–º
3. **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø–æ–≤—Ç–æ—Ä—ã, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
4. **–£–¥–æ–±—Å—Ç–≤–æ**: –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–µ –º–µ–Ω—é, –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: 5 —Ñ–∞–π–ª–æ–≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏
6. **–°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å**: –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º
7. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**: 18 —Ç–µ—Å—Ç–æ–≤—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤

## üéì –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã

- [SHARED_MAILBOXES_README.md](SHARED_MAILBOXES_README.md) - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- [SHARED_MAILBOXES_QUICK_START.md](SHARED_MAILBOXES_QUICK_START.md) - –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç
- [TEST_SCENARIOS_SHARED_MAILBOXES.md](TEST_SCENARIOS_SHARED_MAILBOXES.md) - –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏
- [CHANGELOG_SHARED_MAILBOXES.md](CHANGELOG_SHARED_MAILBOXES.md) - –ò—Å—Ç–æ—Ä–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π

## üîÆ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑–≤–∏—Ç–∏—è

- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –æ–±—â–∏—Ö —è—â–∏–∫–æ–≤
- [ ] –ú–∞—Å—Å–æ–≤–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –æ–±—â–∏—Ö —è—â–∏–∫–æ–≤
- [ ] –≠–∫—Å–ø–æ—Ä—Ç —Å–ø–∏—Å–∫–∞ –æ–±—â–∏—Ö —è—â–∏–∫–æ–≤ –≤ CSV
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞ –∫ —è—â–∏–∫–∞–º
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≥—Ä—É–ø–ø–∞–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- [ ] REST API endpoint –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞
- [ ] Web –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∏–º–ø–æ—Ä—Ç–∞

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞

### –ö–æ–¥
- ‚úÖ –°–∏–Ω—Ç–∞–∫—Å–∏—Å –ø—Ä–æ–≤–µ—Ä–µ–Ω: `python3 -m py_compile add_users.py`
- ‚úÖ –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ –ª–∏–Ω—Ç–µ—Ä–∞
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Å—Ç–∏–ª—é –∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- ‚úÖ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- ‚úÖ README.md –æ–±–Ω–æ–≤–ª–µ–Ω
- ‚úÖ –°–æ–∑–¥–∞–Ω—ã –ø–æ–¥—Ä–æ–±–Ω—ã–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–∞
- ‚úÖ –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
- ‚úÖ –ù–µ –ª–æ–º–∞–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ (.env)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å —Å–∏—Å—Ç–µ–º–æ–π –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- ‚úÖ –°–ª–µ–¥—É–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º API

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [SHARED_MAILBOXES_QUICK_START.md](SHARED_MAILBOXES_QUICK_START.md)
2. –ò–∑—É—á–∏—Ç–µ —Ç–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –≤ [TEST_SCENARIOS_SHARED_MAILBOXES.md](TEST_SCENARIOS_SHARED_MAILBOXES.md)
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ `add_users.log`
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ `.env` –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã

## üéâ –ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!

–í—Å–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã. –§—É–Ω–∫—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ –∏ –≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.

–ó–∞–ø—É—Å—Ç–∏—Ç–µ:
```bash
python3 add_users.py
```

–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é **7** –∏ –Ω–∞—á–Ω–∏—Ç–µ –∏–º–ø–æ—Ä—Ç –æ–±—â–∏—Ö —è—â–∏–∫–æ–≤!

---

**–î–∞—Ç–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**: 15 –æ–∫—Ç—è–±—Ä—è 2025  
**–í–µ—Ä—Å–∏—è**: 1.0.0  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ó–∞–≤–µ—Ä—à–µ–Ω–æ –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

